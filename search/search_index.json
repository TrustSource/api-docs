{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"TrustSource APIv2","text":"<p>This API documentation addresses the recently released v2 of the TrustSource platform API.  </p> <p>Feel free to reach out anytime, to clarify questions through mail under <code>support @ trustsource.io</code> or contact - in case you are a paying subscriber - your account representative.</p>"},{"location":"#introduction","title":"Introduction","text":"<p>TrustSource helps in providing Security and Compliance along the Software Supply Chain. Since large parts of these tasks, if not already, will be automated, a capable API is an important success factor to successfully securing the Software Supply Chain. At TrustSource we focus on leveraging our customer's efficiency through optimal integration. We provide a collection of servcies and tools to simplify operations, to keep their back free from the hazzle and insufficiencies comprising the tooling landscape around open source compliance and security. TrustSource has been assembled over years to support a fully managed solution coping with all aspects of Software Supply Chain Security. </p> <p>However, if you feel like something is missing or should be integrated better, please do not hesitate to participate or reach out to us, so that we may explore on how to bridge the gap.</p>"},{"location":"#scope","title":"Scope","text":"<p>This document addresses the use of TrustSource API in general and describes underlying concepts and ideas. It will address the most recent version, which currently is v2. However, the deltas to v1 will be outlined where new functionality appears. Te learn more how to migrate, see the section on Migrating APIv1 to APIv2.</p>"},{"location":"#table-of-contents","title":"Table of Contents","text":"<p>This documentation is structured into six sections with differnt focus:</p> <ol> <li>This Introduction, which guides you through the idea and reading hints</li> <li>Key Management - Introduction to API keys and how to manage them </li> <li>Roles - This section gives an overview of the TrsutSource roles you may use to scope your keys. </li> <li>API Structure - Here you get insights on our data management and will learn what you may do to ensure integrity from your side</li> <li>API Analytics - Gives you ideas on how to keep control over API usage</li> <li>Use Cases - Collection of use cases describing how to tackle specific obstacles that may appear when securing your Software Supply Chain </li> </ol> <p>[!IMPORTANT]</p> <p>PLEASE NOTE: APIv1 has been shut down September 30th, 2024. Requests will only return 410.</p>"},{"location":"#how-to-read-the-document","title":"How to read the document","text":"<p>If you are a new user and have endless time, we suggest to read everyting from beginning to start. But most likely you already denied the second condition and thus are seeking a way to reduce the time to achieve your goal. In this case follow one of the role-specific paths outlined here:</p> <ul> <li>System Administrator / Operations</li> </ul> <p>You should at least understand the Key Management. If you plan to distribute expenses across your users, API Analytics will also be of value to you.</p> <ul> <li>Security Architect</li> </ul> <p>We suggest to gain an idea on the api key scopes and then dive into the use cases. </p> <ul> <li>Project or Product Manager</li> </ul> <p>Be sure to get an idea of understand the Key Management.</p> <ul> <li>Compliance Manager</li> </ul> <p>Have a look into the  API Structure to gain an understanding of the options you will gain through the compliance API.</p> <ul> <li>CI/CD Operator / Developer</li> </ul> <p>You may focus on the introductions of chapters 3, 4, 5 and 6. The details you may add upon demand.</p>"},{"location":"#migrating-apiv1-to-apiv2","title":"Migrating APIv1 to APIv2","text":"<p>The APIv2 has been implemented during December 2023. Meanwhile (Oct/24) v1 is not even supported anymore. However, some of our older scanning tools may still want to connect to https://app.trustsource.io/api/v1/... To switch API, you should upgrade to the \u00f6atest version or find the config file, where to set the target URL. See the corresponding repo for details. To find the repo use TrustSource Repo Overview as starting point for your search.</p> <p>To migrate, you will just need to point your requests to the URL https://api.trustsource.io/v2/ instead the the former https://app.trustsource.io/api/v1/ base url. All functionality is fully backward compatible. To learn about new functionality and experiment/play with the functions, visit the API documentation inside TrustSource Service.</p>"},{"location":"#further-sources-of-knowledge","title":"Further Sources of Knowledge","text":"<p>You should be aware of the different sources you may tap to learn about TrustSource:</p> <ul> <li>Tools: TrustSource provides a huge collection of services and tools. Most of our tools are provided as opensource and can be found on Github</li> <li>System Monitoring: at the bottom of each screen you will find a link to our public System Monitoring</li> <li>System Management Notifications: in the above linked page you will be able to subscribe to a newsletter, where will announce changes and system updates. </li> <li>Knowledge Base: at the top right of the application there is a link to our online Knowledge base</li> <li>FAQ: the Knowledgebase is available to everyone and contains information on compliance, establishing Compliance processes, setting up an OSPO, integrating different programming languages / CI/CD flows with TrustSource, how to handle use cases within TrustSource, etc.</li> <li>If you are subscribed to TrustSource you also are eligible to may write an email to our support team at support@trustsource.io</li> <li>Direct contact: You will find our contact details, at our website under www.trustsource.io/contact</li> </ul>"},{"location":"#license","title":"License","text":"<p>This documentation is provided under CC-BY-SA-4.0. You may clone or fork this repository and create you own documentation based on these documents. But please make sure to remove all references to TrustSource and EACG except an attribution notice. EACG as well as TrustSource and the corresponding logos are protected Trademarks and should not be used without a written approval by any third party.</p> <p>This documentation may change. We will notify changes through the systems management notification mailing list.</p>"},{"location":"analytics/","title":"API-Analytics","text":"<p>There have been two reasons why we did switch from APIv1 to APIv2. Besides improved security the ability to provide differentiated metering has been one of the main drivers behind the introduction of APIv2.</p> <p>With APIv2 you can</p> <ul> <li>Identify keys by name, which is improving and simplifying logging and metering</li> <li>address more fuunctionality, we allow to manage the complete process through API</li> <li>assign scopes, reducing the impact of key loss and misuse</li> </ul> <p>However, the new API comes with a strong analytics capability. You may see the usage by key, understand which key is causing how much transactions, and which. You also may receive monthly reports by mail allowing to associate a cost breakdown by user. But let's start step by step.</p>"},{"location":"analytics/#individual-key-statistics","title":"Individual Key Statistics","text":"<p>Strating point for all analytics will be the API Key Management page under &gt; ADMINISTRATION &gt; Scanners &amp; API Keys &gt; API Keys. Behind each key you see a small diagram symbol . Clicking on the symbol will open a modal window displaying the use of the key during the current month.</p> <p></p> <p>It is possible to select different reporting periods. The green bars show the usage of the sleected key. The yellow background shows the remaining quota for the selected reporting period. </p> <p>[!NOTE]</p> <p>Expect the data to be from a day before. For performance and security reasons we decided not to use realtime data. Thus it may be, that you are missing the latest requests. </p>"},{"location":"analytics/#overview-of-all-keys","title":"Overview of all Keys","text":"<p>Below the page title you see the two action buttons \"Create Key\" and  \"View overall statistics\". As soon as you have created one key, you will be able to open the usage statistics.</p> <p> </p> <p>In the upper left corner you will see the selected usage period. Display scope is monthly. Switch the usage period by selecting another month from the dropdown. </p> <p>Below you see the summary of the APIv1 calls. Unfortunately, we are not able to gove further details about single keys, since the logging and reporting is structured differently. However, until the end of the year, wou will find the total of all API v1 during the reporting periond being displyer here. Make sure, it will be 0 before End of September 2024!</p> <p>The diagram below shows the usage by key and day of APIv2 keys. While each column displayed is the usage for that particular day, thecummulated area in the background shows the number of requests. Below the diagram you have the option to export the result either as CSV or copy the data directly into clipboard to transfer it into numbers or excel without downloading a CSV-file.  The reuslt file will contain the same data as the table below the diagram: a sum and a count per day for each active key. </p> <p>Given you are using several dozens of keys the diagram will not be very useful anymore. To get access to particular key, you may apply the filter, below the image at the right. Start typing any sequence contained in the key name and you will get the list filtered for matching keys only.</p>"},{"location":"keymgmt/","title":"API Key Management","text":"<p>To allow even larger organisations to handle API keys, we invested into a sound API key management. Users with the role Account Admin, Compliance Manager or Project Manager will find the API Key Management under &gt; ADMINSITRATION &gt; Scanners &amp; API Keys*. you will hav the choice between  API Keys and Public Release Keys**. </p> <p>At TrustSource we distinguish:</p> <ol> <li> <p>API Keys    These are the standard keys, used to grant access to a specific set of actions.  </p> </li> <li> <p>Public Release Keys (read more)</p> </li> </ol> <p>These keys are designed to be associated with a particular release of a software product / project or module. The scope of this key type will be limited to retrieve information of a particular module version, that has been approved for release. Upon creation you associate the key with the released product of choice and this binding can't be removed anymore. The idea behind this sort of key is to allow you to publish the key together with your software, especially for devices without display, e.g. in form of a QR code, which then can be linked to display the information you want, e.g /VEX, /notice or /SBOM.</p> <p>Please choose API Keys for now and you will see a screen like shown in the following screenshot.</p> <p></p> <p>If you do not see a list, you might be the first entering this section. Then you will have to add your first key. In this screen you will have all functionality to craete, manage  and delete API keys. </p>"},{"location":"keymgmt/#create-an-api-key","title":"Create an API Key","text":"<p>To create an API Key just push the \"Create New\" button at the bottom of the list. The service will open a modal and request a name and the scope.</p> <p>[!NOTE]</p> <p>Users with the role of a Compliance Manager have visibility of all keys, but will only be able to create Public Release Keys. To create an API Key, you must be assigned either the Manager or the Account Manager role.  </p>"},{"location":"keymgmt/#assign-a-key-name","title":"Assign a Key Name","text":"<p>Especially when using more than a handful of keys it makes sense to add meaningful names to keys. You may indicate the user, the department or a cost center in the name. The name will be used throughout the application for reference in all reportings, so you will have an immediate understanding of who is causing what sort of events.</p>"},{"location":"keymgmt/#assign-a-scope-to-the-key","title":"Assign a Scope to the Key","text":"<p>Maybe you do not want every key to read and write everything. Especially in larger organisations keys might get known by a larger audience. To limit the risk of loosing senstive information, we offer the option to limit capabilities of keys by assigning them roles. You may pick the roles from the list by typing a role name. It is possible to assign several roles. </p> <p>[!NOTE]</p> <p>Modification of roles will only be possible while the key is unpublished/inactive! </p> <p>See roles and right section for  a detailed understanding of which role covers which action.</p> <p>We have been discussing to limit the scope of keys to particular projects but did not yet get there. On the one hand it seems interesting to allow a key only to change/query information of a single project, on the other hand this would increase the complexity of key management, especially for centralised CI/CD approaches. Each project would have to bring its own API Key. Feel free to leave us a comment on the discussions to this topic.  </p>"},{"location":"keymgmt/#publish-unpublish-an-api-key","title":"Publish / Unpublish an API Key","text":"<p>To change the scope of a key or to temprarily pause a key from being actionable, you unpublish the key. This is comparable to deactivate the key temporarily. While a key is upublished, requests using that key will be rejected with a 403. </p> <p>It is always possible to publish the key again after having it unpublished. You may repeat this step as often as with a light switch.</p>"},{"location":"keymgmt/#delete-an-api-key","title":"Delete an API Key","text":"<p>To finally delete a key, you must unpublish/deactivate it first. Deactivated keys may be deleted by clicking on the corresponding Delete button in the same line. You may be required to confirm the deletion by re-entering the key name before the request is accepted. After successful deletion the key will disappear. However, the taces and logs remain valid.</p>"},{"location":"releasekeys/","title":"Release Keys","text":"<p>Realease keys are a specifically created to allow a remote documentation to a specific release. While a release is a specific analysis at a certain point in time, the structure (SBOM) of this solution will not change anymore. The idea of a release key is to create an API Key that has the single purpose to associate a specific document with a released software.</p> <p>Thus this key will not allow anything else than calling the TrustSource API to pull any of the following documents:</p> <ul> <li>SBOM</li> <li>Notice File</li> <li>CSAF2.0 VEX</li> </ul> <p>The prerequisite to create a Release key is to have a </p>"},{"location":"roles/","title":"Roles and Scopes","text":"<p>This table gives an overview of which role is allowed to execute which actions.</p> Function Developer Manager Compliance Manager Portfolio Manager Account Manager Enterprise Admin Company Component Manager Company Security Manager CORE /users &gt; GET nologin &gt; GET Keyusage /accounts &gt; GET authorization /imports &gt; POST /projects &gt; GET &gt; POST &gt; DEL &gt; GET /partsList &gt; GET /sbom /modules &gt; GET /modules &gt; DEL &gt; POST &gt; GET /partsList /reports &gt; GET cveImpcat &gt; GET dashboard &gt; GET licenses &gt; GET versioning &gt; GET viability &gt; GET vulnerabilities /scans &gt; GET &gt; POST &gt; GET /binaryLinks &gt; POST /binaryLinks &gt; POST reProcess COMPLIANCE /approvals &gt; POST &gt; GET &gt; POST approve &gt; POST reject /check &gt; POST component &gt; POST license REPOSITORY &gt; POST scan &gt; GET scan &gt; GET status &gt; GET results VULNERABILITIES &gt; POST cveDetails &gt; POST cveFind &gt; GET cwes <p>Besides these we have a handful of public functions, which can be triggered by using the Release keys. Actually they are not really public, you will require the Release key to access the associated information, but everybody using the key will be able to access all information. Currently we have three documents, that can be retrieved:</p> <ul> <li>SBOM</li> <li>Notice File</li> <li>CSAF VEX</li> </ul>"},{"location":"structure/","title":"API-Structure","text":"<p>To get a grip on APIv2 it is important to understand that TrustSource APIv2 comprises of different services. It is a basic REST API but also a comprehensive business API, allowing to initiate complex actions. You may manage a complete release through the API without the need for logging in. To not get lost, start thinking in the following categories:</p> <ol> <li>Core</li> </ol> <p>provides access to all elements within the application such as projects, modules and scans as well as the actions like approvals, releases and all sort of reporting.</p> <ol> <li>DeepScan (or repository)</li> </ol> <p>allows to execute the file based assessments and dig into the results of these.</p> <ol> <li>Vulnerabilities</li> </ol> <p>offers all sort of analysis and investigation information concerning vulnerabilities and weaknesses as well as CSAF2.0 related documents.</p> <ol> <li>ComponentBase</li> </ol> <p>grants access to our knowledge on compoenents. This is the aggregation of the knowledge that has been collected by our customers as well as our own clearing activity. Findings from DeepScan results are added to general index data, etc. </p> <ol> <li>Compliance Information</li> </ol> <p>allows to publish your achievements towards 3rd parties. This especially comprises required documents for particular releases such as NoticeFiles, SOUP lists or CSAF VEX documents or company information like FOSS Liason. Here we also offer functionality to verify the originality of documents.</p> <p>[!IMPORTANT]</p> <p>PLEASE NOTE: The APIv2 has a file upload limit of 1MB. This has been a security decision to prevent overloading. However, we are aware that 1MB is not very much when it comes to complex projects or scans. If you require larger uploads, please contact our Support.</p> <p>The following sections will give a short introduction into each block. To test the API, go to TrustSource App - you may register for free using a git-account - and click the book icon in the upper right corner of the screen. There you will find a SWAGGER allowing you to play around and experience the API functions. </p>"},{"location":"usecases/","title":"Use Cases","text":"<p>This section shall provide help in applying the API. We will outline a list of use cases, that will show how to achieve Software Supply Chain Security with TrustSource automation.</p>"},{"location":"usecases/uc1/","title":"Integrate ts-scan into your github actions","text":"<p>This usecase covers the integration of ts-scan into github actions. Github Actions is a servcie provided by Github, allowing to automate tasks upon commiting. To learn more about GitHub Actions, refer to this article.. </p>"}]}